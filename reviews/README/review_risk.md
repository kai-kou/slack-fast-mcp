# レビュー結果: ⑦ リスク（Risk）

**対象ドキュメント**: README.md（英語版）、README_ja.md（日本語版）
**レビュー軸**: 潜在リスク・盲点・前提検証
**レビュー日**: 2026-02-10

---

## 総合評価: B（重大リスクはないが、いくつかの盲点あり）

README に致命的なセキュリティリスクや法的問題はない。ただし、OSS 公開後に発生しうるリスクを未然に防ぐ観点からいくつかの改善が必要。

---

## 1. セキュリティリスク

### RK-01: トークン漏洩リスクの説明が不十分（重要度: 高）

**現状**: Security セクションは4つの箇条書きのみ。

**リスク**:
- ユーザーが `.slack-mcp.json` にトークンを直書きし、Git にコミットしてしまう
- `.cursor/mcp.json` にトークンを直書きし、チームリポジトリに push してしまう
- セットアップ中に一時的にトークンを直書きし、そのまま忘れる

**推奨**:
1. `.gitignore` の設定例を Security セクションに直接記載する
2. 「WARNING: トークンを直書きした場合に検出・警告する機能がある」旨を明記
3. トークンが漏洩した場合の対処法（Slack API サイトでの再生成手順）を追加

### RK-02: Quick Start の手動設定例にセキュリティリスク（重要度: 中）

**現状**: 
```bash
export SLACK_BOT_TOKEN='xoxb-your-token-here'
```

**リスク**: この行がシェルヒストリーに残る。`~/.bash_history` が共有マシンで漏洩するリスク。

**推奨**: 
- `read -s` や `.env` ファイルの利用を推奨
- または `slack-fast-mcp setup` を主な設定方法として強調

### RK-03: `.cursor/mcp.json` の Git コミットリスク（重要度: 中）

**現状**: README の設定例では `.cursor/mcp.json` にトークンの環境変数参照を記載しているが、`.cursor/` ディレクトリ自体が `.gitignore` されていない場合のリスクへの言及がない。

**推奨**: 
- 環境変数参照の方法（推奨）と直書きの方法（非推奨）の区別をより明確に
- `.cursor/mcp.json` を `.gitignore` に追加すべきかどうかのガイダンス

---

## 2. 法的・ライセンスリスク

### RK-04: サードパーティライセンスの明示（重要度: 低）

**現状**: MIT License のみ記載。依存ライブラリのライセンス（mcp-go: MIT, slack-go: BSD-2-Clause, cobra: Apache-2.0）への言及なし。

**リスク**: BSD-2-Clause や Apache-2.0 は MIT と互換性があるが、ユーザーが依存のライセンスを気にする場合がある。

**推奨**: 必須ではないが、Acknowledgments セクションで依存ライブラリとそのライセンスに触れると透明性が高まる。

---

## 3. 技術的リスク

### RK-05: 比較表の数値が検証不能（重要度: 中）

**現状**: `~10ms` vs `~200-500ms` vs `~300-800ms` という数値が記載されているが、計測方法や環境が示されていない。

**リスク**: 
- OSS コミュニティで「この数値は正確か？」と質問される
- ベンチマーク結果が異なる環境では再現しない
- 競合プロジェクトの開発者から反論される

**推奨**: 
- 計測環境（macOS, Apple Silicon, Go 1.23 等）を注記として追加
- または「ベンチマーク結果の詳細は [こちら]」のリンクを用意
- `time slack-fast-mcp version` のような再現可能な計測コマンドを示す

### RK-06: Slack API のレート制限変更リスク（重要度: 低）

**現状**: README にレート制限への言及なし。要件定義書（§6.3）には2025年5月以降の制限変更が記載。

**リスク**: 非Marketplaceアプリでの `conversations.history` のレート制限（Tier 1: 1req/min）に引っかかるユーザーが出る可能性。

**推奨**: README の注意事項として、または FAQ として「大量の履歴取得を行うとレート制限に達する場合がある」旨を記載。

### RK-07: プライベートチャンネルのスコープ不足（重要度: 中）

**現状**: README の Slack App 作成手順では `channels:history` と `channels:read` のみを必須として記載。

**リスク**: プライベートチャンネルを使おうとしたユーザーが `groups:history` / `groups:read` が必要なことに気づかず、`missing_scope` エラーで行き詰まる。

**推奨**: プライベートチャンネルを使う場合の追加スコープを明記（注記またはオプション欄として）。

---

## 4. 運用・メンテナンスリスク

### RK-08: バイナリの信頼性担保がない（重要度: 中）

**現状**: GitHub Releases からバイナリをダウンロードする手順のみ。チェックサムの検証手順がない。

**リスク**: Supply chain attack のリスク。GoReleaser はチェックサムファイルを生成するはずだが、ユーザーが検証する手順がない。

**推奨**: 
- GoReleaser が生成する `checksums.txt` の検証手順を追加
- `sha256sum` コマンドでの検証例を記載

### RK-09: 古いバージョンの利用リスク（重要度: 低）

**現状**: バージョンの更新方法（アップグレード手順）が記載されていない。

**推奨**: 簡単なアップグレード手順（同じ curl コマンドの再実行、または `go install` の再実行）を記載。

---

## 5. 前提条件のリスク

### RK-10: MCP の認知度前提（重要度: 低）

**現状**: README は読者が MCP（Model Context Protocol）を知っていることを前提としている。

**リスク**: MCP を知らないユーザーには「MCP Server」「MCP Tools」の意味が不明。

**推奨**: MCP の簡単な1行説明と、公式ドキュメントへのリンクを追加。例:
> MCP (Model Context Protocol) is an open standard that lets AI editors interact with external tools. [Learn more](https://modelcontextprotocol.io/)

---

## 6. まとめ

| 指摘ID | 重要度 | カテゴリ | 概要 |
|---|---|---|---|
| RK-01 | 高 | セキュリティ | トークン漏洩リスクの説明強化 |
| RK-02 | 中 | セキュリティ | シェルヒストリーへのトークン残留 |
| RK-03 | 中 | セキュリティ | `.cursor/mcp.json` の Git コミットリスク |
| RK-04 | 低 | 法的 | サードパーティライセンスの明示 |
| RK-05 | 中 | 技術 | 比較表の数値に計測条件を追記 |
| RK-06 | 低 | 技術 | レート制限の注記 |
| RK-07 | 中 | 技術 | プライベートチャンネルの追加スコープ |
| RK-08 | 中 | 運用 | バイナリチェックサムの検証手順 |
| RK-09 | 低 | 運用 | アップグレード手順の追加 |
| RK-10 | 低 | 前提 | MCP の説明とリンク追加 |
